{% extends 'bootstrap4.html' %}
{% load static %}


{% block head %}
    <title>{{ username }}'s blog</title>
    <link rel="stylesheet" href="{% static 'general/css/blog.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
{% endblock %}


{% block content %}
<div class="container-fluid d-flex" style="background-color: #4f4f4f;">

    <div class="col-3 offset-1 px-0 mb-3" id="sidebar" style="background-color: white">

        <nav>
            <div class="col-auto sidebar-header">
                <figure class="logo col-12 figure mt-3 text-center">
                    <img src="{% static 'general/img/logo.png' %}" class="figure-img img-fluid rounded" alt="cup_logo.png">
                    <figcaption class="figure-caption text-light"><h1 class="text-dark"><span>GA</span>LLARIA</h1></figcaption>
                </figure>
            </div>

            <div class="col-auto offset-1 pr-0 list-unstyled components text-uppercase">
                {% include 'user/button_menu.html' with name='home' d='M233.892,179.131a0.269,0.269,0,0,1,.1.181,0.245,0.245,0,0,1-.059.2l-0.335.372a0.253,0.253,0,0,1-.216.1H232.9a0.286,0.286,0,0,1-.187-0.057l-5.53-4.269a0.281,0.281,0,0,0-.372,0l-5.531,4.269a0.268,0.268,0,0,1-.187.057h-0.484a0.269,0.269,0,0,1-.216-0.1l-0.334-.372a0.236,0.236,0,0,1-.061-0.194,0.307,0.307,0,0,1,.1-0.186l6.454-4.985A0.79,0.79,0,0,1,227,174a0.712,0.712,0,0,1,.44.148l1.786,1.376v-0.716a0.258,0.258,0,0,1,.085-0.193,0.286,0.286,0,0,1,.205-0.081h1.66a0.257,0.257,0,0,1,.2.081,0.267,0.267,0,0,1,.079.193v2.444l2.442,1.881h0Zm-1.877.97v4.368a0.505,0.505,0,0,1-.159.383,0.569,0.569,0,0,1-.406.152h-3.141v-3.5h-2.62V185h-3.142a0.564,0.564,0,0,1-.405-0.152,0.5,0.5,0,0,1-.161-0.383V180.1L227,176.217Z" transform="translate(-220 -174)' %}
                {% include 'user/button_menu.html' with name='videos' d='M221,228v16H232V228H221Zm1.624,14.935a0.185,0.185,0,0,1-.18.19h-0.812a0.186,0.186,0,0,1-.181-0.19v-0.4a0.186,0.186,0,0,1,.181-0.19h0.812a0.185,0.185,0,0,1,.18.19v0.4Zm0-2.264a0.185,0.185,0,0,1-.18.19h-0.812a0.186,0.186,0,0,1-.181-0.19v-0.4a0.186,0.186,0,0,1,.181-0.191h0.812a0.186,0.186,0,0,1,.18.191v0.4Zm0-2.264a0.185,0.185,0,0,1-.18.19h-0.812a0.186,0.186,0,0,1-.181-0.19v-0.4a0.186,0.186,0,0,1,.181-0.191h0.812a0.186,0.186,0,0,1,.18.191v0.4Zm0-2.264a0.185,0.185,0,0,1-.18.19h-0.812a0.186,0.186,0,0,1-.181-0.19v-0.4a0.186,0.186,0,0,1,.181-0.191h0.812a0.186,0.186,0,0,1,.18.191v0.4Zm0-2.265a0.186,0.186,0,0,1-.18.191h-0.812a0.186,0.186,0,0,1-.181-0.191v-0.4a0.186,0.186,0,0,1,.181-0.191h0.812a0.186,0.186,0,0,1,.18.191v0.4Zm0-2.264a0.186,0.186,0,0,1-.18.191h-0.812a0.186,0.186,0,0,1-.181-0.191v-0.4a0.186,0.186,0,0,1,.181-0.19h0.812a0.185,0.185,0,0,1,.18.19v0.4Zm0-2.264a0.186,0.186,0,0,1-.18.191h-0.812a0.186,0.186,0,0,1-.181-0.191v-0.4a0.186,0.186,0,0,1,.181-0.19h0.812a0.185,0.185,0,0,1,.18.19v0.4Zm7.129,13.124a0.652,0.652,0,0,1-.632.666H223.7a0.652,0.652,0,0,1-.632-0.666v-5.556a0.652,0.652,0,0,1,.632-0.666h5.414a0.652,0.652,0,0,1,.632.666v5.556Zm0-7.491a0.652,0.652,0,0,1-.632.666H223.7a0.652,0.652,0,0,1-.632-0.666v-5.555a0.651,0.651,0,0,1,.632-0.666h5.414a0.651,0.651,0,0,1,.632.666v5.555Zm1.715,7.952a0.186,0.186,0,0,1-.181.19H230.47a0.185,0.185,0,0,1-.18-0.19v-0.4a0.185,0.185,0,0,1,.18-0.19h0.812a0.186,0.186,0,0,1,.181.19v0.4Zm0-2.264a0.186,0.186,0,0,1-.181.19H230.47a0.185,0.185,0,0,1-.18-0.19v-0.4a0.186,0.186,0,0,1,.18-0.191h0.812a0.186,0.186,0,0,1,.181.191v0.4Zm0-2.264a0.186,0.186,0,0,1-.181.19H230.47a0.185,0.185,0,0,1-.18-0.19v-0.4a0.186,0.186,0,0,1,.18-0.191h0.812a0.186,0.186,0,0,1,.181.191v0.4Zm0-2.264a0.186,0.186,0,0,1-.181.19H230.47a0.185,0.185,0,0,1-.18-0.19v-0.4a0.186,0.186,0,0,1,.18-0.191h0.812a0.186,0.186,0,0,1,.181.191v0.4Zm0-2.265a0.186,0.186,0,0,1-.181.191H230.47a0.186,0.186,0,0,1-.18-0.191v-0.4a0.186,0.186,0,0,1,.18-0.191h0.812a0.186,0.186,0,0,1,.181.191v0.4Zm0-2.264a0.186,0.186,0,0,1-.181.191H230.47a0.186,0.186,0,0,1-.18-0.191v-0.4a0.185,0.185,0,0,1,.18-0.19h0.812a0.186,0.186,0,0,1,.181.19v0.4Zm0-2.264a0.186,0.186,0,0,1-.181.191H230.47a0.186,0.186,0,0,1-.18-0.191v-0.4a0.185,0.185,0,0,1,.18-0.19h0.812a0.186,0.186,0,0,1,.181.19v0.4Z" transform="translate(-221 -228)' %}
                {% include 'user/button_menu.html' with name='images' d='M232.25,303h-10.5a0.75,0.75,0,0,1-.75-0.75v-10.5a0.75,0.75,0,0,1,.75-0.75h10.5a0.75,0.75,0,0,1,.75.75v10.5A0.75,0.75,0,0,1,232.25,303Zm0-11.25h-10.5v9h10.5v-9Zm-7.5,4.5c1.1,0,1.5,1.148,2.25,1.148s1.125-1.9,2.25-1.9c1.1,0,2.25,4.5,2.25,4.5h-9S223.648,296.25,224.75,296.25Zm-0.375-1.875a0.75,0.75,0,1,1,.75-0.75A0.75,0.75,0,0,1,224.375,294.375Z" transform="translate(-221 -291)' %}
                {% include 'user/button_menu.html' with name='articles' d='M223.769,349H233v11h-9.231V349Zm1.846,9h5.539v-1h-5.539v1Zm0-2h5.539v-1h-5.539v1Zm0-2h5.539v-1h-5.539v1Zm0-2h5.539v-1h-5.539v1Zm-2.769,5H221V346h9.231v2h-7.385v9Z" transform="translate(-221 -346)' %}
            </div>

            <div class="about col-10 offset-1 mt-5">
                <h1>About me</h1>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores cupiditate distinctio dolores eaque ex illo impedit maxime quasi. Atque, explicabo!</p>
            </div>

            <div class="col-10 offset-1 mt-5">
                <img class="float-left" src="{% static 'general/img/tag.svg' %}" alt="tag picture">
                <h1 class="ml-5">Tags</h1>
                <div class="tags">

                    <button type="button" class="tag btn mt-2 ml-1 shadow-none text-center">Video</button>
                    <button type="button" class="tag btn mt-2 ml-1 shadow-none text-center">Video</button>
                    <button type="button" class="tag btn mt-2 ml-1 shadow-none text-center">Video</button>
                    <button type="button" class="tag btn mt-2 ml-1 shadow-none text-center">Video</button>
                    <button type="button" class="tag btn mt-2 ml-1 shadow-none text-center">Video</button>

                </div>
            </div>

        </nav>

    </div>


    <div class="col-7 mx-0 mt-0 mb-3 p-0" id="content">

        <button type="button" id="sidebarCollapse" class="navbar-btn">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <a style="margin-left: 90%;" href="{% url 'user_logout' %}">Exit</a>

        <div class="row w-100 p-0 m-0">
            <div class="feedback col-auto ml-auto px-1 m-0">
                <a class="btn px-1 m-0" href="#" role="button"><img src="{% static 'general/img/twitter.svg' %}" alt="twitter"></a>
                <a class="btn px-2 m-0" href="#" role="button"><img src="{% static 'general/img/facebook.svg' %}" alt="facebook"></a>
                <a class="btn px-2 m-0" href="#" role="button"><img src="{% static 'general/img/google.svg' %}" alt="gooogle plus"></a>
                <a class="btn px-2 m-0" href="#" role="button"><img src="{% static 'general/img/p.svg' %}" alt="p"></a>
            </div>
        </div>

        <main>

        </main>

    </div>

</div>
{% endblock %}


{% block scripts %}
    <script>

        $(document).ready(function (){
            $('.icon-text:contains("{{ page }}")').parent().addClass('current');
        });


        function changeVideo(item) {
            swapElements(item);
            $('video').attr('src', $('#main-content').find('.url').text());
        }

        function changeImage(item) {
            swapElements(item);
            let mainImage = $('#main-content').find('img');
            let currentImage = $(item).find('img');
            let tempSrc = mainImage.attr('src');

            mainImage.attr('src', currentImage.attr('src'));
            currentImage.attr('src', tempSrc);
        }

        function swapElements(item) {
            let mainContent = $('#main-content');
            let itemParent = $(item).parent();

            let mainElements = [
                mainContent.find('.like'), mainContent.find('.history'), mainContent.find('.url'),
                mainContent.find('.title'), mainContent.find('.description'), mainContent.find('.post-id')
            ];
            let itemElements = [
                itemParent.find('.like'), itemParent.find('.history'), itemParent.find('.url'),
                itemParent.find('.title'), itemParent.find('.description'), itemParent.find('.post-id')
            ];

            for(let i = 0; i < mainElements.length; i++){
                let tempItem = itemElements[i].clone(true);
                let tempMain = mainElements[i].clone(true);
                mainElements[i].replaceWith(tempItem);
                itemElements[i].replaceWith(tempMain);
            }
        }

        function likeIt(item){
            let currentTag = $(item);
            let childTag = currentTag.find('small');
            let likes = Number(childTag.text());

            if (currentTag.hasClass('active'))
               childTag.text(likes - 1);
            else
               childTag.text(likes + 1);

            currentTag.toggleClass('active');
        }

        function changeView(item){
            let currentView = $(item);
            if (currentView.hasClass('active')){
                return;
            }

            $('.view').removeClass('active');
            currentView.addClass('active');

            let cards = $('.card');
            if (cards.hasClass('video')){
                cards.toggleClass('flex-row');
                cards.toggleClass('flex-wrap');
            }

            cards.toggleClass('col-sm-4');
        }

    </script>
    <script src="{% static 'general/js/blog.js' %}"></script>
{% endblock %}